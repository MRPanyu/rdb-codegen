<?xml version="1.0" encoding="UTF-8"?>
<configuration>

	<properties>
		<basePackage>demo.entity</basePackage>
		<basePackagePath>demo/entity</basePackagePath>
		<outputPath>generated-files</outputPath>
		<outputEncoding>UTF-8</outputEncoding>
	</properties>

	<reader class="rdb.codegen.reader.MySqlJDBCModelReader">
		<driverClassName>com.mysql.jdbc.Driver</driverClassName>
		<url>jdbc:mysql://127.0.0.1:3306/test</url>
		<user>test</user>
		<password>test</password>
		<schema>test</schema>
		<tables>%</tables>
	</reader>

	<!-- 
	<reader class="rdb.codegen.reader.OracleJDBCModelReader">
		<driverClassName>oracle.jdbc.OracleDriver</driverClassName>
		<url>jdbc:oracle:thin:@127.0.0.1:1521/pdborcl</url>
		<user>gateway</user>
		<password>gateway</password>
		<tables>%</tables>
	</reader>
	 -->

	<processor class="rdb.codegen.processor.DefaultClassNameSetter"></processor>
	<processor class="rdb.codegen.processor.DefaultPropertyNameSetter"></processor>
	<processor class="rdb.codegen.processor.DefaultPropertyTypeSetter"></processor>
	<processor class="rdb.codegen.processor.ForeignKeyReferenceSetter"></processor>

	<processor class="rdb.codegen.processor.MvelTemplateGenerator">
		<templateFor>table</templateFor>
		<templateFile>classpath:mvel-template-jpa-sample/ClassName.java.mvt</templateFile>
		<outputFile>${outputPath}/${basePackagePath}/@{table.ext.className}.java</outputFile>
		<outputEncoding>${outputEncoding}</outputEncoding>
	</processor>

	<processor class="rdb.codegen.processor.MvelTemplateGenerator">
		<templateFor>table</templateFor>
		<templateFile>classpath:mvel-template-jpa-sample/ClassNameId.java.mvt</templateFile>
		<outputFile>${outputPath}/${basePackagePath}/@{table.ext.className}Id.java</outputFile>
		<outputWhen><![CDATA[table.primaryKey != null && table.primaryKey.columnNames.size() > 1]]></outputWhen>
		<outputEncoding>${outputEncoding}</outputEncoding>
	</processor>

</configuration>